<!DOCTYPE html>
<html>
<head>
<script type ='text/javascript'>

	window.addEventListener('DOMContentLoaded', setup, false);
	var popupMenu = null;
	
	function setup() {
		document.addEventListener('click', createMenu, false);
	}
	
	function createMenu(evt) {
	
		if(!popupMenu) {
		
			var menuDiv = document.createElement('div');
			menuDiv.style.position = 'absolute';
			menuDiv.style.left = parseInt(evt.clientX) + 'px';
			menuDiv.style.top = parseInt(evt.clientY) + 'px';
			menuDiv.style.width = '200px';
			menuDiv.style.height = '200px';
			menuDiv.style.borderRadius = '100px';
			menuDiv.style.backgroundColor = '#cccccc';
			popupMenu = document.documentElement.appendChild(menuDiv);
			popupMenu.addEventListener('click', closeMenu, false);
			addIcon(80, 10, 0);
			addIcon(150, 80, 1);
			addIcon(80, 150, 2);
			addIcon(10, 80, 3);
			
		}
		
	}
	
	function closeMenu(evt) {
	
		evt.preventDefault();
		evt.stopPropagation();
		document.documentElement.removeChild(popupMenu);
		if (evt.target.id) alert('Selected icon = ' + evt.target.id);
		popupMenu = null;
		
	}
	
	function addIcon(xCoord, yCoord, iconNumber) {

		var iconDiv = document.createElement('div');
		iconDiv.id = 'icon' + iconNumber;
		iconDiv.style.position = 'absolute';
		iconDiv.style.left = xCoord + 'px';
		iconDiv.style.top = yCoord + 'px';
		iconDiv.style.width = '40px';
		iconDiv.style.height = '40px';
		iconDiv.style.backgroundColor = '#ff0000';
		iconDiv.style.borderRadius = '10px';
		newIcon = popupMenu.appendChild(iconDiv);
		newIcon.addEventListener('click', closeMenu, false);
		
	}

</script>
</head>
<body>

	

</body>
</html>
